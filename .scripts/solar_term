#!/bin/bash

declare -a nijushisekki=(
  "#[bg=#bfeeef]#[fg=#0645ad]立春#[default]"
  "#[bg=#c0f5e7]#[fg=#0645ad]雨水#[default]"
  "#[bg=#c3fadf]#[fg=#0645ad]啓蟄#[default]"
  "#[bg=#c8fdd6]#[fg=#0645ad]春分#[default]"
  "#[bg=#cfffcf]#[fg=#0645ad]清明#[default]"
  "#[bg=#d6fdc8]#[fg=#0645ad]穀雨#[default]"
  "#[bg=#dffac3]#[fg=#0645ad]立夏#[default]"
  "#[bg=#e7f5c0]#[fg=#0645ad]小満#[default]"
  "#[bg=#eeefbf]#[fg=#0645ad]芒種#[default]"
  "#[bg=#f5e7c0]#[fg=#0645ad]夏至#[default]"
  "#[bg=#fadfc3]#[fg=#0645ad]小暑#[default]"
  "#[bg=#fdd6c8]#[fg=#0645ad]大暑#[default]"
  "#[bg=#ffcfcf]#[fg=#0645ad]立秋#[default]"
  "#[bg=#fdc8d6]#[fg=#0645ad]処暑#[default]"
  "#[bg=#fac3df]#[fg=#0645ad]白露#[default]"
  "#[bg=#f5c0e7]#[fg=#0645ad]秋分#[default]"
  "#[bg=#efbfee]#[fg=#0645ad]寒露#[default]"
  "#[bg=#e7c0f5]#[fg=#0645ad]霜降#[default]"
  "#[bg=#dfc3fa]#[fg=#0645ad]立冬#[default]"
  "#[bg=#d6c8fd]#[fg=#0645ad]小雪#[default]"
  "#[bg=#ceceff]#[fg=#0645ad]大雪#[default]"
  "#[bg=#c8d6fd]#[fg=#0645ad]冬至#[default]"
  "#[bg=#c3defa]#[fg=#0645ad]小寒#[default]"
  "#[bg=#c0e7f5]#[fg=#0645ad]大寒#[default]"
)
declare -a shichijunikou=(
  "東風解凍（こちこおりをとく）"
  "黄鶯睍睆（うぐいすなく）"
  "魚上氷（うおこおりをいずる）"
  "土脉潤起（つちのしょううるおいおこる）"
  "霞始靆（かすみはじめてたなびく）"
  "草木萌動（そうもくめばえいずる）"
  "蟄虫啓戸（すごもりむしとをひらく）"
  "桃始笑（ももはじめてさく）"
  "菜虫化蝶（なむしちょうとなる）"
  "雀始巣（すずめはじめてすくう）"
  "桜始開（さくらはじめてひらく）"
  "雷乃発声（かみなりすなわちこえをはっす）"
  "玄鳥至（つばめきたる）"
  "鴻雁北（こうがんきたへかえる）"
  "虹始見（にじはじめてあらわる）"
  "葭始生（あしはじめてしょうず）"
  "霜止出苗（しもやんでなえいづる）"
  "牡丹華（ぼたんはなさく）"
  "蛙始鳴（かわずはじめてなく）"
  "蚯蚓出（みみずいづる）"
  "竹笋生（たけのこしょうず）"
  "蚕起食桑（かいこおきてくわをはむ）"
  "紅花栄（べにばなさかう）"
  "麦秋至（むぎのときいたる）"
  "螳螂生（かまきりしょうず）"
  "腐草為蛍（くされたるくさほたるとなる）"
  "梅子黄（うめのみきばむ）"
  "乃東枯（なつかれくさかるる）"
  "菖蒲華（あやめはなさく）"
  "半夏生（はんげしょうず）"
  "温風至（あつかぜいたる）"
  "蓮始開（はすはじめてひらく）"
  "鷹乃学習（たかすなわちわざをなす）"
  "桐始結花（きりはじめてはなをむすぶ）"
  "土潤溽暑（つちうるおうてむしあつし）"
  "大雨時行（たいうときどきにふる）"
  "涼風至（すづかぜいたる）"
  "寒蝉鳴（ひぐらしなく）"
  "蒙霧升降（ふかききりまとう）"
  "綿柎開（わたのはなしべひらく）"
  "天地始粛（てんちはじめてさむし）"
  "禾乃登（こくものすなわちみのる）"
  "草露白（くさのつゆしろし）"
  "鶺鴒鳴（せきれいなく）"
  "玄鳥去（つばめさる）"
  "雷乃収声（かみなりすなわちこえをおさむ）"
  "蟄虫坏戸（むしかくれてとをふさぐ）"
  "水始涸（みずはじめてかる）"
  "鴻雁来（こうがんきたる）"
  "菊花開（きくのはなひらく）"
  "蟋蟀在戸（きりぎりすとにあり）"
  "霜始降（しもはじめてふる）"
  "霎時施（こさめときどきふる）"
  "楓蔦黄（もみじつたきばむ）"
  "山茶始開（つばきはじめてひらく）"
  "地始凍（ちはじめてこおる）"
  "金盞香（きんせんかさく）"
  "虹蔵不見（にじかくれてみえず）"
  "朔風払葉（きたかぜこのはをはらう）"
  "橘始黄（たちばなはじめてきばむ）"
  "閉塞成冬（そらさむくふゆとなる）"
  "熊蟄穴（くまあなにこもる）"
  "鱖魚群（さけのうおむらがる）"
  "乃東生（なつかくれくさしょうず）"
  "麋角解（おおしかのつのおつる）"
  "雪下出麦（ゆきわたりてむぎいづる）"
  "芹乃栄（せりすなわちさかう）"
  "水泉動（しみずあたたかをふくむ）"
  "雉始雊（きじはじめてなく）"
  "款冬華（ふきのはなさく）"
  "水沢腹堅（さわみずこおりつめる）"
  "鶏始乳（にわとりはじめてとやにつく）"
)
solar_form_tokyo_url='https://mgpn2.sakura.ne.jp/api/sun/position.cgi?json&lat=35.4122&lon=139.4130'
ecliptic_longitude=$(curl -sSL "${solar_form_tokyo_url}" | jq .result.ecliptic_longitude)
if [ "$1" == "24" ]; then
  surplus=$(echo $ecliptic_longitude / 15 | bc -q)
  echo ${nijushisekki[${surplus}]}
elif [ "$1" == "72" ]; then
  surplus=$(echo $ecliptic_longitude / 5 | bc -q)
  echo ${shichijunikou[${surplus}]}
else
  exit 255
fi
